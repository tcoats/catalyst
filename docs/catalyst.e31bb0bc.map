{"version":3,"sources":["src/vnode.ts","src/is.ts","src/h.ts","node_modules/fast-deep-equal/index.js","node_modules/odoql2/index.js","node_modules/injectinto/inject.js","node_modules/isarray/index.js","node_modules/path-to-regexp/index.js","node_modules/odo-route/index.js","../../../../usr/local/lib/node_modules/parcel/node_modules/process/browser.js","node_modules/page/page.js","node_modules/kind-of/index.js","node_modules/is-extendable/index.js","node_modules/extend-shallow/index.js","node_modules/section-matter/index.js","node_modules/js-yaml/lib/js-yaml/common.js","node_modules/js-yaml/lib/js-yaml/exception.js","node_modules/js-yaml/lib/js-yaml/mark.js","node_modules/js-yaml/lib/js-yaml/type.js","node_modules/js-yaml/lib/js-yaml/schema.js","node_modules/js-yaml/lib/js-yaml/type/str.js","node_modules/js-yaml/lib/js-yaml/type/seq.js","node_modules/js-yaml/lib/js-yaml/type/map.js","node_modules/js-yaml/lib/js-yaml/schema/failsafe.js","node_modules/js-yaml/lib/js-yaml/type/null.js","node_modules/js-yaml/lib/js-yaml/type/bool.js","node_modules/js-yaml/lib/js-yaml/type/int.js","node_modules/js-yaml/lib/js-yaml/type/float.js","node_modules/js-yaml/lib/js-yaml/schema/json.js","node_modules/js-yaml/lib/js-yaml/schema/core.js","node_modules/js-yaml/lib/js-yaml/type/timestamp.js","node_modules/js-yaml/lib/js-yaml/type/merge.js","node_modules/js-yaml/lib/js-yaml/type/binary.js","node_modules/js-yaml/lib/js-yaml/type/omap.js","node_modules/js-yaml/lib/js-yaml/type/pairs.js","node_modules/js-yaml/lib/js-yaml/type/set.js","node_modules/js-yaml/lib/js-yaml/schema/default_safe.js","node_modules/js-yaml/lib/js-yaml/type/js/undefined.js","node_modules/js-yaml/lib/js-yaml/type/js/regexp.js","node_modules/js-yaml/lib/js-yaml/type/js/function.js","node_modules/js-yaml/lib/js-yaml/schema/default_full.js","node_modules/js-yaml/lib/js-yaml/loader.js","node_modules/js-yaml/lib/js-yaml/dumper.js","node_modules/js-yaml/lib/js-yaml.js","node_modules/js-yaml/index.js","node_modules/gray-matter/lib/engines.js","node_modules/strip-bom-string/index.js","../../../../usr/local/lib/node_modules/parcel/node_modules/base64-js/index.js","../../../../usr/local/lib/node_modules/parcel/node_modules/ieee754/index.js","../../../../usr/local/lib/node_modules/parcel/node_modules/isarray/index.js","../../../../usr/local/lib/node_modules/parcel/node_modules/buffer/index.js","node_modules/gray-matter/lib/utils.js","node_modules/gray-matter/lib/defaults.js","node_modules/gray-matter/lib/engine.js","node_modules/gray-matter/lib/stringify.js","node_modules/gray-matter/lib/excerpt.js","node_modules/gray-matter/lib/to-file.js","node_modules/gray-matter/lib/parse.js","node_modules/gray-matter/index.js","node_modules/marked/lib/marked.js","node_modules/axios/lib/helpers/bind.js","node_modules/is-buffer/index.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/helpers/normalizeHeaderName.js","node_modules/axios/lib/core/enhanceError.js","node_modules/axios/lib/core/createError.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/helpers/btoa.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/adapters/xhr.js","node_modules/axios/lib/defaults.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/cancel/Cancel.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/axios.js","node_modules/axios/index.js","default.js","error.js","../src/vnode.ts","../src/is.ts","../src/htmldomapi.ts","../src/h.ts","../src/thunk.ts","../src/snabbdom.ts","../src/modules/class.ts","../src/modules/props.ts","../src/modules/attributes.ts","../src/modules/style.ts","../src/modules/eventlisteners.ts","node_modules/odo-hub/index.js","node_modules/odoql2/exe.js","index.js","../../../../usr/local/lib/node_modules/parcel/src/builtins/bundle-url.js","../../../../usr/local/lib/node_modules/parcel/src/builtins/css-loader.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","toString","Object","kindOf","val","type","isGeneratorFn","isArray","isBuffer","isArguments","isDate","isError","isRegexp","ctorName","isGeneratorObj","slice","toLowerCase","replace","constructor","message","stackTraceLimit","Date","toDateString","getDate","setDate","RegExp","flags","ignoreCase","multiline","global","throw","return","next","callee","err","indexOf","isExtendable","isObject","require","extend","o","obj","assign","a","b","key","hasOwn","hasOwnProperty","typeOf","input","options","parse","file","toObject","defaults","section_delimiter","identity","opts","delim","lines","content","split","sections","section","createSection","stack","initSections","closeSection","getKey","line","ln","trim","isDelimiter","data","join","charAt","TypeError","yaml","engines","safeLoad","bind","stringify","safeDump","json","JSON","replacer","space","javascript","str","wrap","eval","test","SyntaxError","stripBom","define","Reflect","defineProperty","enumerable","configurable","writable","value","toBuffer","Buffer","from","String","arrayify","startsWith","substr","utils","delimiters","delims","language","lang","parsers","engine","aliase","getEngine","open","close","matter","buf","newline","excerpt","sep","excerpt_separator","delimiter","idx","contents","isEmpty","fs","toFile","orig","cached","cache","parseMatter","openLen","raw","closeIndex","block","empty","read","filepath","readFileSync","path","search","clearCache","root","code","fences","hr","heading","nptable","blockquote","list","html","def","table","lheading","paragraph","text","_label","_title","edit","getRegex","bullet","item","source","_tag","_comment","normal","merge","gfm","tables","pedantic","Lexer","tokens","links","create","marked","rules","lex","src","lexer","token","top","loose","cap","bull","listStart","listItems","t","tag","l","isordered","istask","ischecked","exec","substring","rtrim","depth","header","splitCells","align","cells","ordered","start","match","smartLists","undefined","task","checked","sanitize","pre","sanitizer","href","charCodeAt","inline","escape","autolink","url","link","reflink","nolink","strong","em","br","del","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","breaks","InlineLexer","renderer","Renderer","output","out","prevCapZero","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","escapes","codespan","mangle","smartypants","image","ch","Math","random","infostring","escaped","highlight","langPrefix","quote","level","slugger","headerIds","headerPrefix","slug","xhtml","body","startatt","listitem","checkbox","tablerow","tablecell","cleanUrl","baseUrl","TextRenderer","Parser","Slugger","parser","inlineText","reverse","tok","pop","peek","parseText","unescape","row","cell","j","errMsg","silent","console","log","seen","originalSlug","encode","escapeTest","escapeReplace","replacements","escapeTestNoEncode","escapeReplaceNoEncode","_","n","fromCharCode","parseInt","regex","opt","base","prot","decodeURIComponent","originIndependentUrl","resolveUrl","encodeURI","baseUrls","target","tableRow","count","offset","curr","splice","c","invert","suffLen","currChar","callback","pending","done","setOptions","getDefaults","inlineLexer","amd","window","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","xhrAdapter","config","Promise","dispatchXhrRequest","resolve","reject","requestData","requestHeaders","headers","isFormData","request","XMLHttpRequest","loadEvent","xDomain","XDomainRequest","onprogress","handleProgress","ontimeout","handleTimeout","auth","username","password","Authorization","method","toUpperCase","params","paramsSerializer","handleLoad","readyState","status","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","response","statusText","onerror","handleError","isStandardBrowserEnv","cookies","xsrfValue","withCredentials","xsrfCookieName","xsrfHeaderName","forEach","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","onCanceled","cancel","abort","send","h","default","ql","inject","route","page","axios","slugify","unslugify","hub","exe","files","load","get","result","keys","use","p","component","query","state","render","one","props","innerHTML","style","color","connections","map","connection","attrs","patch","init","current","document","querySelector","update","Hub","results","clear","canonicalPath","scrollTo","many","pod","hashbang","bundleURL","getBundleURLCached","getBundleURL","matches","getBaseURL","bundle","updateLink","newLink","cloneNode","onload","remove","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","querySelectorAll"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/FA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtEA;AACA,IAAIrgB,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA;AACA;;AAEA,IAAIC,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBAAT,GAA4B;AACxB,QAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACH;;AACD,SAASC,mBAAT,GAAgC;AAC5B,QAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;AACH;;AACA,aAAY;AACT,MAAI;AACA,QAAI,OAAOE,UAAP,KAAsB,UAA1B,EAAsC;AAClCL,MAAAA,gBAAgB,GAAGK,UAAnB;AACH,KAFD,MAEO;AACHL,MAAAA,gBAAgB,GAAGE,gBAAnB;AACH;AACJ,GAND,CAME,OAAOI,CAA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R,GAAeP,IAAf;AACA3C,OAAO,CAACmD,eAAR,GAA0BR,IAA1B;AACA3C,OAAO,CAACoD,mBAAR,GAA8BT,IAA9B;;AAEA3C,OAAO,CAACqD,SAAR,GAAoB,UAAUC,IAAV,EAAgB;AAAE,SAAO,EAAP;AAAW,CAAjD;;AAEAtD,OAAO,CAACuD,OAAR,GAAkB,UAAUD,IAAV,EAAgB;AAC9B,QAAM,IAAIhD,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIAN,OAAO,CAACwD,GAAR,GAAc,YAAY;AAAE,SAAO,GAAP;AAAY,CAAxC;;AACAxD,OAAO,CAACyD,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,QAAM,IAAIpD,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;;AAGAN,OAAO,CAAC2D,KAAR,GAAgB,YAAW;AAAE,SAAO,CAAP;AAAW,CAAxC;;;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3rCA,IAAIC,QAAQ,GAAGC,MAAM,CAAC1B,SAAP,CAAiByB,QAAhC;;AAEA3D,MAAM,CAACC,OAAP,GAAiB,SAAS4D,MAAT,CAAgBC,GAAhB,EAAqB;AACpC,MAAIA,GAAG,KAAK,KAAK,CAAjB,EAAoB,OAAO,WAAP;AACpB,MAAIA,GAAG,KAAK,IAAZ,EAAkB,OAAO,MAAP;AAElB,MAAIC,IAAI,GAAG,OAAOD,GAAlB;AACA,MAAIC,IAAI,KAAK,SAAb,EAAwB,OAAO,SAAP;AACxB,MAAIA,IAAI,KAAK,QAAb,EAAuB,OAAO,QAAP;AACvB,MAAIA,IAAI,KAAK,QAAb,EAAuB,OAAO,QAAP;AACvB,MAAIA,IAAI,KAAK,QAAb,EAAuB,OAAO,QAAP;;AACvB,MAAIA,IAAI,KAAK,UAAb,EAAyB;AACvB,WAAOC,aAAa,CAACF,GAAD,CAAb,GAAqB,mBAArB,GAA2C,UAAlD;AACD;;AAED,MAAIG,OAAO,CAACH,GAAD,CAAX,EAAkB,OAAO,OAAP;AAClB,MAAII,QAAQ,CAACJ,GAAD,CAAZ,EAAmB,OAAO,QAAP;AACnB,MAAIK,WAAW,CAACL,GAAD,CAAf,EAAsB,OAAO,WAAP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AAED,SAASP,aAAT,GAAyB;AACvB,SAAO;AAAEnB,IAAAA,GAAG,EAAE,EAAP;AAAW4B,IAAAA,IAAI,EAAE,EAAjB;AAAqBb,IAAAA,OAAO,EAAE;AAA9B,GAAP;AACD;;AAED,SAASJ,QAAT,CAAkBpD,GAAlB,EAAuB;AACrB,SAAOA,GAAP;AACD;;AAED,SAASI,QAAT,CAAkBJ,GAAlB,EAAuB;AACrB,MAAIA,GAAG,IAAIA,GAAG,CAACc,WAAX,IAA0B,OAAOd,GAAG,CAACc,WAAJ,CAAgBV,QAAvB,KAAoC,UAAlE,EAA8E;AAC5E,WAAOJ,GAAG,CAACc,WAAJ,CAAgBV,QAAhB,CAAyBJ,GAAzB,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;ACvID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzlDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3zBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;;AAEA,IAAMyE,IAAI,GAAGvC,OAAO,CAAC,SAAD,CAApB;AAEA;;;;;AAIA,IAAMwC,OAAO,GAAGvI,OAAO,GAAGD,MAAM,CAACC,OAAjC;AAEA;;;;AAIAuI,OAAO,CAACD,IAAR,GAAe;AACb1B,EAAAA,KAAK,EAAE0B,IAAI,CAACE,QAAL,CAAcC,IAAd,CAAmBH,IAAnB,CADM;AAEbI,EAAAA,SAAS,EAAEJ,IAAI,CAACK,QAAL,CAAcF,IAAd,CAAmBH,IAAnB;AAFE,CAAf;AAKA;;;;AAIAC,OAAO,CAACK,IAAR,GAAe;AACbhC,EAAAA,KAAK,EAAEiC,IAAI,CAACjC,KAAL,CAAW6B,IAAX,CAAgBI,IAAhB,CADM;AAEbH,EAAAA,SAAS,EAAE,UAASxC,GAAT,EAAcS,OAAd,EAAuB;AAChC,QAAMO,IAAI,GAAGvD,MAAM,CAACwC,MAAP,CAAc;AAAC2C,MAAAA,QAAQ,EAAE,IAAX;AAAiBC,MAAAA,KAAK,EAAE;AAAxB,KAAd,EAA0CpC,OAA1C,CAAb;AACA,WAAOkC,IAAI,CAACH,SAAL,CAAexC,GAAf,EAAoBgB,IAAI,CAAC4B,QAAzB,EAAmC5B,IAAI,CAAC6B,KAAxC,CAAP;AACD;AALY,CAAf;AAQA;;;;AAIAR,OAAO,CAACS,UAAR,GAAqB;AACnBpC,EAAAA,KAAK,EAAE,SAASA,KAAT,CAAeqC,GAAf,EAAoBtC,OAApB,EAA6BuC,IAA7B,EAAmC;AACxC;AACA,QAAI;AACF,UAAIA,IAAI,KAAK,KAAb,EAAoB;AAClBD,QAAAA,GAAG,GAAG,2BAA2BA,GAAG,CAACjB,IAAJ,EAA3B,GAAwC,UAA9C;AACD;;AACD,aAAOmB,IAAI,CAACF,GAAD,CAAJ,IAAa,EAApB;AACD,KALD,CAKE,OAAOtD,GAAP,EAAY;AACZ,UAAIuD,IAAI,KAAK,KAAT,IAAkB,2BAA2BE,IAA3B,CAAgCzD,GAAG,CAACf,OAApC,CAAtB,EAAoE;AAClE,eAAOgC,KAAK,CAACqC,GAAD,EAAMtC,OAAN,EAAe,KAAf,CAAZ;AACD;;AACD,YAAM,IAAI0C,WAAJ,CAAgB1D,GAAhB,CAAN;AACD;AACF,GAdkB;AAenB+C,EAAAA,SAAS,EAAE,YAAW;AACpB,UAAM,IAAItI,KAAJ,CAAU,0CAAV,CAAN;AACD;AAjBkB,CAArB;;ACnCA;;;;;;AAOA;;AAEAL,MAAM,CAACC,OAAP,GAAiB,UAASiJ,GAAT,EAAc;AAC7B,MAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,CAACb,MAAJ,CAAW,CAAX,MAAkB,QAAjD,EAA2D;AACzD,WAAOa,GAAG,CAACzE,KAAJ,CAAU,CAAV,CAAP;AACD;;AACD,SAAOyE,GAAP;AACD,CALD;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7vDA;;AAEA,IAAMK,QAAQ,GAAGvD,OAAO,CAAC,kBAAD,CAAxB;;AACA,IAAMU,MAAM,GAAGV,OAAO,CAAC,SAAD,CAAtB;;AAEA/F,OAAO,CAACuJ,MAAR,GAAiB,UAASrD,GAAT,EAAcI,GAAd,EAAmBzC,GAAnB,EAAwB;AACvC2F,EAAAA,OAAO,CAACC,cAAR,CAAuBvD,GAAvB,EAA4BI,GAA5B,EAAiC;AAC/BoD,IAAAA,UAAU,EAAE,KADmB;AAE/BC,IAAAA,YAAY,EAAE,IAFiB;AAG/BC,IAAAA,QAAQ,EAAE,IAHqB;AAI/BC,IAAAA,KAAK,EAAEhG;AAJwB,GAAjC;AAMD,CAPD;AASA;;;;;AAIA7D,OAAO,CAACiE,QAAR,GAAmB,UAAAJ,GAAG;AAAA,SAAI4C,MAAM,CAAC5C,GAAD,CAAN,KAAgB,QAApB;AAAA,CAAtB;AAEA;;;;;AAIA7D,OAAO,CAAC8F,QAAR,GAAmB,UAAAjC,GAAG;AAAA,SAAI4C,MAAM,CAAC5C,GAAD,CAAN,KAAgB,QAApB;AAAA,CAAtB;AAEA;;;;;AAIA7D,OAAO,CAAC8J,QAAR,GAAmB,UAASpD,KAAT,EAAgB;AACjC,SAAO,OAAOA,KAAP,KAAiB,QAAjB,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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;;AAEA,IAAI+E,KAAK,GAAGtE,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAIsS,MAAM,GAAGtS,OAAO,CAAC,kBAAD,CAApB;;AACA,IAAIuS,QAAQ,GAAGvS,OAAO,CAAC,uBAAD,CAAtB;;AACA,IAAIwS,YAAY,GAAGxS,OAAO,CAAC,2BAAD,CAA1B;;AACA,IAAIyS,eAAe,GAAGzS,OAAO,CAAC,8BAAD,CAA7B;;AACA,IAAI0S,WAAW,GAAG1S,OAAO,CAAC,qBAAD,CAAzB;;AACA,IAAI2S,IAAI,GAAI,OAAON,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACM,IAAxC,IAAgDN,MAAM,CAACM,IAAP,CAAYjQ,IAAZ,CAAi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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxMA;;;;AAEA;AACAmB,OAAO,CAAC,WAAD,CAAP;;AACAA,OAAO,CAAC,SAAD,CAAP,EAEA;;;AACA,IAAMsY,KAAK,GAAGtY,OAAO,CAAC,UAAD,CAAP,CAAoBuY,IAApB,CAAyB,CACrCvY,OAAO,CAAC,wBAAD,CAAP,CAAkCwW,OADG,EAErCxW,OAAO,CAAC,wBAAD,CAAP,CAAkCwW,OAFG,EAGrCxW,OAAO,CAAC,6BAAD,CAAP,CAAuCwW,OAHF,EAIrCxW,OAAO,CAAC,wBAAD,CAAP,CAAkCwW,OAJG,EAKrCxW,OAAO,CAAC,iCAAD,CAAP,CAA2CwW,OALN,CAAzB,CAAd;;AAOA,IAAIgC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACjZ,IAAD,EAAU;AACvB4Y,EAAAA,KAAK,CAACE,OAAD,EAAU9Y,IAAV,CAAL;AACA8Y,EAAAA,OAAO,GAAG9Y,IAAV;AACD,CAHD,EAKA;;;AACA,IAAMkZ,GAAG,GAAG5Y,OAAO,CAAC,SAAD,CAAnB;;AACA,IAAI2X,KAAK,GAAG,EAAZ;AACA,IAAItD,MAAM,GAAG,EAAb;AACA,IAAM2C,GAAG,GAAG4B,GAAG,EAAf,EAEA;;AACA,IAAMlC,MAAM,GAAG1W,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAMiX,GAAG,GAAGjX,OAAO,CAAC,YAAD,CAAP,EAAZ;;AACAiX,GAAG,CAACta,EAAJ,CAAO,QAAP,EAAiB,UAACkc,OAAD,EAAa;AAC5BlB,EAAAA,KAAK,GAAGkB,OAAR;AACAF,EAAAA,MAAM,CAACjC,MAAM,CAACmB,GAAP,gBAAmBxD,MAAM,CAACuC,IAA1B,GAAkCe,KAAlC,EAAyCtD,MAAzC,EAAiD2C,GAAjD,CAAD,CAAN;AACD,CAHD;AAIAA,GAAG,CAACra,EAAJ,CAAO,QAAP,EAAiB,UAAA6a,CAAC,EAAI;AACpB5Z,EAAAA,MAAM,CAACwC,MAAP,CAAciU,MAAd,EAAsBmD,CAAtB;AACAP,EAAAA,GAAG,CAACxb,GAAJ,CAAQib,MAAM,CAACmB,GAAP,gBAAmBxD,MAAM,CAACuC,IAA1B,GAAkCc,KAAlC,CAAwCC,KAAxC,EAA+CtD,MAA/C,KAA0D,EAAlE;AACD,CAHD;AAIA2C,GAAG,CAACra,EAAJ,CAAO,aAAP,EAAsB,UAAC6a,CAAD,EAAO;AAC3BP,EAAAA,GAAG,CAAC6B,KAAJ;AACA9B,EAAAA,GAAG,CAAC/Z,IAAJ,CAAS,QAAT,EAAmBua,CAAnB;AACD,CAHD,GAKA;;AACA,IAAMZ,IAAI,GAAG5W,OAAO,CAAC,MAAD,CAApB;;AACA,IAAM2W,KAAK,GAAG3W,OAAO,CAAC,WAAD,CAArB;;AACA4W,IAAI,CAAC,GAAD,EAAM,UAACpc,CAAD,EAAIkF,IAAJ,EAAa;AACrB2U,EAAAA,MAAM,GAAG,EAAT;AACA2C,EAAAA,GAAG,CAAC/Z,IAAJ,CAAS,QAAT,EAAmB0Z,KAAK,CAAC7M,IAAN,CAAWtP,CAAC,CAACue,aAAb,EAA4B,YAAM;AACnD/B,IAAAA,GAAG,CAAC/Z,IAAJ,CAAS,QAAT,EAAmB;AACjB2Z,MAAAA,IAAI,EAAE,OADW;AAEjB/X,MAAAA,OAAO,YAAKrE,CAAC,CAACue,aAAP;AAFU,KAAnB;AAID,GALkB,CAAnB;AAMA1G,EAAAA,MAAM,CAAC2G,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,CATG,CAAJ,EAWA;;;;;;;AACA,uBAAgBtC,MAAM,CAACuC,IAAP,CAAY,KAAZ,CAAhB;AAAA,QAASC,GAAT;AAAoCA,IAAAA,GAAG,CAAClC,GAAD,EAAMC,GAAN,CAAH;AAApC,IAEA;;;;;;;;;;;;;;;;;AACAL,IAAI,CAAC;AAAEuC,EAAAA,QAAQ,EAAE;AAAZ,CAAD,CAAJ","file":"catalyst.e31bb0bc.map","sourceRoot":"..","sourcesContent":["import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","import {vnode, VNode, VNodeData} from './vnode';\nexport type VNodes = Array<VNode>;\nexport type VNodeChildElement = VNode | string | number | undefined | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>\nimport * as is from './is';\n\nfunction addNS(data: any, children: VNodes | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as VNodes, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(sel: string, data: VNodeData, children: VNodeChildren): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","const equal = require('fast-deep-equal')\n\nmodule.exports = {\n  query: (name, params, options) => {\n    return { name: name, params: params, options: options || {} }\n  },\n  merge: (...args) => args.flat().reduce((a, b) => {\n    const result = {}\n    for (let key of Object.keys(a)) result[key] = a[key]\n    for (let key of Object.keys(b)) {\n      if (result[key]) {\n        if (result[key].name !== b[key].name)\n          console.error('Cannot merge OdoQL queries, names are different',\n            `${result[key].name} !== ${b[key].name}`)\n        else if (!equal(result[key].params, b[key].params))\n          console.error('Cannot merge OdoQL queries, params are different',\n            `${JSON.stringify(result[key].params)} !== ${JSON.stringify(b[key].params)}`)\n        else if (b[key].options) {\n          for (let option of Object.keys(b[key].options)) {\n            const resultoption = results[key].options[option]\n            const boption = b[key].options[option]\n            if (resultoption && !equal(resultoption, boption))\n              console.error('Cannot merge OdoQL queries, options are different',\n                `${JSON.stringify(resultoption)} !== ${JSON.stringify(boption)}`)\n            else\n              results[key].options[option] = boption\n          }\n        }\n      }\n      else result[key] = b[key]\n    }\n    return result\n  }),\n  component: (spec) => {\n    spec = Object.assign({}, spec)\n    const res = (state, params, hub) => spec.render(state, params, hub)\n    if (spec.query) res.query = (...args) => spec.query(...args)\n    else res.query = () => {}\n    return res\n  }\n}\n","const inject = () => {\n  let bindings = {}\n  return {\n    bind: (key, item) => {\n      if (typeof(key) === 'object') {\n        for (let k in key) res.bind(k, key[k])\n        return {\n          off: () => {\n            for (let k in key) {\n              if (bindings[key] == null) continue\n              const items = bindings[key]\n              const index = items.indexOf(key[k])\n              if (index !== -1) items.splice(index, 1)\n            }\n          }\n        }\n      }\n      if (bindings[key] == null) bindings[key] = []\n      if (Array.isArray(item)) {\n        bindings[key] = bindings[key].concat(item)\n        return {\n          off: () => {\n            for (let i of item) {\n              if (bindings[key] == null) continue\n              const items = bindings[key]\n              const index = items.indexOf(i)\n              if (index !== -1) items.splice(index, 1)\n            }\n          }\n        }\n      }\n\n      bindings[key].push(item)\n      return {\n        off: () => {\n          if (bindings[key] == null) return\n          const items = bindings[key]\n          const index = items.indexOf(item)\n          if (index !== -1) items.splice(index, 1)\n        }\n      }\n    },\n\n    one: (key) => {\n      if (bindings[key] == null) throw new Error(`${key} not found`)\n      const items = bindings[key]\n      if (items.length > 1) throw new Error(`${key} too many bound`)\n      return items[0]\n    },\n\n    oneornone: (key) => {\n      if (bindings[key] == null) return null\n      const items = bindings[key]\n      if (items.length > 1) throw new Error(`${key} too many bound`)\n      return items[0]\n    },\n\n    first: (key) => {\n      if (bindings[key] == null) throw new Error(`${key} not found`)\n      return bindings[key][0]\n    },\n\n    firstornone: (key) => {\n      if (bindings[key] == null) return null\n      return bindings[key][0]\n    },\n\n    many: (key) => {\n      if (bindings[key] == null) return []\n      return bindings[key]\n    },\n\n    clear: (key) => {\n      delete bindings[key]\n    },\n\n    clearAll: () => {\n      bindings = {}\n    }\n  }\n}\n\nlet _inject = inject()\nmodule.exports = (key, item) => {\n  if (key == null) return inject()\n  return _inject.bind(key, item)\n}\nmodule.exports.bind = (key, item) => _inject.bind(key, item)\nmodule.exports.one = (key) => _inject.one(key)\nmodule.exports.oneornone = (key) => _inject.oneornone(key)\nmodule.exports.first = (key) => _inject.first(key)\nmodule.exports.firstornone = (key) => _inject.firstornone(key)\nmodule.exports.many = (key) => _inject.many(key)\nmodule.exports.clear = (key) => _inject.clear(key)\nmodule.exports.clearAll = () => _inject.clearAll()\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","const pathtoregexp = require('path-to-regexp')\n\nconst hostname = window.location.hostname\nconst hostnameparts = hostname.split('.')\nlet subdomain = null\nif (hostnameparts.length == 3) subdomain = hostnameparts[0]\n\nconst route = () => {\n  let routes = []\n  const res = (pattern, callback, options) => {\n    if (pattern === '*') pattern = '(.*)'\n    let index = 0\n    if (options != null && options.index != null) index = options.index\n    const entry = {\n      pattern: pattern,\n      index: index,\n      match: pathtoregexp(pattern, options),\n      cb: callback\n    }\n    routes.push(entry)\n    routes.sort((a, b) => b.index - a.index)\n    return {\n      off: () => {\n        const index = routes.indexOf(entry)\n        if (index != -1) routes.splice(index, 1)\n      }\n    }\n  }\n  res.exec = (url, next) => {\n    const qindex = url.indexOf('?')\n    let querystring = null\n    if (qindex !== -1) {\n      querystring = url.slice(qindex + 1)\n      url = url.slice(0, qindex)\n    }\n    for (let r of routes) {\n      const result = r.match.exec(url)\n      if (result == null) continue\n      const params = {}\n      r.match.keys.forEach((key, i) => {\n        const val = decodeURIComponent(result[i + 1].replace(/\\+/g, ' '))\n        if (val == null && !hasOwnProperty.call(params, key.name)) return\n        params[key.name] = val\n      })\n      return r.cb({\n        hostname: hostname,\n        subdomain: subdomain,\n        url: url,\n        params: params,\n        querystring: querystring\n      })\n    }\n    if (next == null) throw new Error('no route found')\n    next()\n  }\n  res.routes = () => routes\n  res.clearAll = () => {\n    routes = []\n  }\n  return res\n}\n\nconst _route = route()\nmodule.exports = (pattern, callback, options) => {\n  if (pattern == null) return route()\n  return _route(pattern, callback, options)\n}\nmodule.exports.exec = (url, next) => _route.exec(url, next)\nmodule.exports.routes = () => _route.routes()\nmodule.exports.clearAll = () => _route.clearAll()\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * The page instance\n   * @api private\n   */\n  function Page() {\n    // public things\n    this.callbacks = [];\n    this.exits = [];\n    this.current = '';\n    this.len = 0;\n\n    // private things\n    this._decodeURLComponents = true;\n    this._base = '';\n    this._strict = false;\n    this._running = false;\n    this._hashbang = false;\n\n    // bound functions\n    this.clickHandler = this.clickHandler.bind(this);\n    this._onpopstate = this._onpopstate.bind(this);\n  }\n\n  /**\n   * Configure the instance of page. This can be called multiple times.\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.configure = function(options) {\n    var opts = options || {};\n\n    this._window = opts.window || (hasWindow && window);\n    this._decodeURLComponents = opts.decodeURLComponents !== false;\n    this._popstate = opts.popstate !== false && hasWindow;\n    this._click = opts.click !== false && hasDocument;\n    this._hashbang = !!opts.hashbang;\n\n    var _window = this._window;\n    if(this._popstate) {\n      _window.addEventListener('popstate', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('popstate', this._onpopstate, false);\n    }\n\n    if (this._click) {\n      _window.document.addEventListener(clickEvent, this.clickHandler, false);\n    } else if(hasDocument) {\n      _window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    }\n\n    if(this._hashbang && hasWindow && !hasHistory) {\n      _window.addEventListener('hashchange', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('hashchange', this._onpopstate, false);\n    }\n  };\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  Page.prototype.base = function(path) {\n    if (0 === arguments.length) return this._base;\n    this._base = path;\n  };\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n\n   * @api private\n   */\n  Page.prototype._getBase = function() {\n    var base = this._base;\n    if(!!base) return base;\n    var loc = hasWindow && this._window && this._window.location;\n\n    if(hasWindow && this._hashbang && loc && loc.protocol === 'file:') {\n      base = loc.pathname;\n    }\n\n    return base;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  Page.prototype.strict = function(enable) {\n    if (0 === arguments.length) return this._strict;\n    this._strict = enable;\n  };\n\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.start = function(options) {\n    var opts = options || {};\n    this.configure(opts);\n\n    if (false === opts.dispatch) return;\n    this._running = true;\n\n    var url;\n    if(isLocation) {\n      var window = this._window;\n      var loc = window.location;\n\n      if(this._hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (this._hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    this.replace(url, null, true, opts.dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  Page.prototype.stop = function() {\n    if (!this._running) return;\n    this.current = '';\n    this.len = 0;\n    this._running = false;\n\n    var window = this._window;\n    this._click && window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    hasWindow && window.removeEventListener('popstate', this._onpopstate, false);\n    hasWindow && window.removeEventListener('hashchange', this._onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  Page.prototype.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  Page.prototype.back = function(path, state) {\n    var page = this;\n    if (this.len > 0) {\n      var window = this._window;\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && window.history.back();\n      this.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    } else {\n      setTimeout(function() {\n        page.show(page._getBase(), state);\n      });\n    }\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  Page.prototype.redirect = function(from, to) {\n    var inst = this;\n\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page.call(this, from, function(e) {\n        setTimeout(function() {\n          inst.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        inst.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  Page.prototype.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  Page.prototype.dispatch = function(ctx, prev) {\n    var i = 0, j = 0, page = this;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled.call(page, ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  Page.prototype.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return this.exit('*', path);\n    }\n\n    var route = new Route(path, null, this);\n    for (var i = 1; i < arguments.length; ++i) {\n      this.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  Page.prototype.clickHandler = function(e) {\n    if (1 !== this._which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath()\n    // for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!this._hashbang && this._samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !this.sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = this._getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(pageBase.length);\n    }\n\n    if (this._hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path && (!isLocation || this._window.location.protocol !== 'file:')) {\n      return;\n    }\n\n    e.preventDefault();\n    this.show(orig);\n  };\n\n  /**\n   * Handle \"populate\" events.\n   * @api private\n   */\n\n  Page.prototype._onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return function () {};\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      var page = this;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = page._window.location;\n        page.show(loc.pathname + loc.search + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n\n  /**\n   * Event button.\n   */\n  Page.prototype._which = function(e) {\n    e = e || (hasWindow && this._window.event);\n    return null == e.which ? e.button : e.which;\n  };\n\n  /**\n   * Convert to a URL object\n   * @api private\n   */\n  Page.prototype._toURL = function(href) {\n    var window = this._window;\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, window.location.toString());\n    } else if (hasDocument) {\n      var anc = window.document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  };\n\n  /**\n   * Check if `href` is the same origin.\n   * @param {string} href\n   * @api public\n   */\n\n  Page.prototype.sameOrigin = function(href) {\n    if(!href || !isLocation) return false;\n\n    var url = this._toURL(href);\n    var window = this._window;\n\n    var loc = window.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  };\n\n  /**\n   * @api private\n   */\n  Page.prototype._samePath = function(url) {\n    if(!isLocation) return false;\n    var window = this._window;\n    var loc = window.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   * @api private\n   */\n  Page.prototype._decodeURLEncodedURIComponent = function(val) {\n    if (typeof val !== 'string') { return val; }\n    return this._decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  };\n\n  /**\n   * Create a new `page` instance and function\n   */\n  function createPage() {\n    var pageInstance = new Page();\n\n    function pageFn(/* args */) {\n      return page.apply(pageInstance, arguments);\n    }\n\n    // Copy all of the things over. In 2.0 maybe we use setPrototypeOf\n    pageFn.callbacks = pageInstance.callbacks;\n    pageFn.exits = pageInstance.exits;\n    pageFn.base = pageInstance.base.bind(pageInstance);\n    pageFn.strict = pageInstance.strict.bind(pageInstance);\n    pageFn.start = pageInstance.start.bind(pageInstance);\n    pageFn.stop = pageInstance.stop.bind(pageInstance);\n    pageFn.show = pageInstance.show.bind(pageInstance);\n    pageFn.back = pageInstance.back.bind(pageInstance);\n    pageFn.redirect = pageInstance.redirect.bind(pageInstance);\n    pageFn.replace = pageInstance.replace.bind(pageInstance);\n    pageFn.dispatch = pageInstance.dispatch.bind(pageInstance);\n    pageFn.exit = pageInstance.exit.bind(pageInstance);\n    pageFn.configure = pageInstance.configure.bind(pageInstance);\n    pageFn.sameOrigin = pageInstance.sameOrigin.bind(pageInstance);\n    pageFn.clickHandler = pageInstance.clickHandler.bind(pageInstance);\n\n    pageFn.create = createPage;\n\n    Object.defineProperty(pageFn, 'len', {\n      get: function(){\n        return pageInstance.len;\n      },\n      set: function(val) {\n        pageInstance.len = val;\n      }\n    });\n\n    Object.defineProperty(pageFn, 'current', {\n      get: function(){\n        return pageInstance.current;\n      },\n      set: function(val) {\n        pageInstance.current = val;\n      }\n    });\n\n    // In 2.0 these can be named exports\n    pageFn.Context = Context;\n    pageFn.Route = Route;\n\n    return pageFn;\n  }\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page.call(this, '*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path), null, this);\n      for (var i = 1; i < arguments.length; ++i) {\n        this.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      this['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      this.start(path);\n    }\n  }\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n    var page = this;\n    var window = page._window;\n\n    if (page._hashbang) {\n      current = isLocation && this._getBase() + window.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && window.location.pathname + window.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (window.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Escapes RegExp characters in the given string.\n   *\n   * @param {string} s\n   * @api private\n   */\n  function escapeRegExp(s) {\n    return s.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state, pageInstance) {\n    var _page = this.page = pageInstance || page;\n    var window = _page._window;\n    var hashbang = _page._hashbang;\n\n    var pageBase = _page._getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    var re = new RegExp('^' + escapeRegExp(pageBase));\n    this.path = path.replace(re, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && window.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? _page._decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = _page._decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = _page._decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    var page = this.page;\n    var window = page._window;\n    var hashbang = page._hashbang;\n\n    page.len++;\n    if (hasHistory) {\n        window.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    var page = this.page;\n    if (hasHistory) {\n        page._window.history.replaceState(this.state, this.title,\n          page._hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options, page) {\n    var _page = this.page = page || globalPage;\n    var opts = options || {};\n    opts.strict = opts.strict || page._strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path, this.keys = [], opts);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = this.page._decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Module exports.\n   */\n\n  var globalPage = createPage();\n  var page_js = globalPage;\n  var default_1 = globalPage;\n\npage_js.default = default_1;\n\nreturn page_js;\n\n})));\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return val.constructor ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isExtendable(val) {\n  return typeof val !== 'undefined' && val !== null\n    && (typeof val === 'object' || typeof val === 'function');\n};\n","'use strict';\n\nvar isObject = require('is-extendable');\n\nmodule.exports = function extend(o/*, objects*/) {\n  if (!isObject(o)) { o = {}; }\n\n  var len = arguments.length;\n  for (var i = 1; i < len; i++) {\n    var obj = arguments[i];\n\n    if (isObject(obj)) {\n      assign(o, obj);\n    }\n  }\n  return o;\n};\n\nfunction assign(a, b) {\n  for (var key in b) {\n    if (hasOwn(b, key)) {\n      a[key] = b[key];\n    }\n  }\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n","'use strict';\n\nvar typeOf = require('kind-of');\nvar extend = require('extend-shallow');\n\n/**\n * Parse sections in `input` with the given `options`.\n *\n * ```js\n * var sections = require('{%= name %}');\n * var result = sections(input, options);\n * // { content: 'Content before sections', sections: [] }\n * ```\n * @param {String|Buffer|Object} `input` If input is an object, it's `content` property must be a string or buffer.\n * @param {Object} options\n * @return {Object} Returns an object with a `content` string and an array of `sections` objects.\n * @api public\n */\n\nmodule.exports = function(input, options) {\n  if (typeof options === 'function') {\n    options = { parse: options };\n  }\n\n  var file = toObject(input);\n  var defaults = {section_delimiter: '---', parse: identity};\n  var opts = extend({}, defaults, options);\n  var delim = opts.section_delimiter;\n  var lines = file.content.split(/\\r?\\n/);\n  var sections = null;\n  var section = createSection();\n  var content = [];\n  var stack = [];\n\n  function initSections(val) {\n    file.content = val;\n    sections = [];\n    content = [];\n  }\n\n  function closeSection(val) {\n    if (stack.length) {\n      section.key = getKey(stack[0], delim);\n      section.content = val;\n      opts.parse(section, sections);\n      sections.push(section);\n      section = createSection();\n      content = [];\n      stack = [];\n    }\n  }\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var len = stack.length;\n    var ln = line.trim();\n\n    if (isDelimiter(ln, delim)) {\n      if (ln.length === 3 && i !== 0) {\n        if (len === 0 || len === 2) {\n          content.push(line);\n          continue;\n        }\n        stack.push(ln);\n        section.data = content.join('\\n');\n        content = [];\n        continue;\n      }\n\n      if (sections === null) {\n        initSections(content.join('\\n'));\n      }\n\n      if (len === 2) {\n        closeSection(content.join('\\n'));\n      }\n\n      stack.push(ln);\n      continue;\n    }\n\n    content.push(line);\n  }\n\n  if (sections === null) {\n    initSections(content.join('\\n'));\n  } else {\n    closeSection(content.join('\\n'));\n  }\n\n  file.sections = sections;\n  return file;\n};\n\nfunction isDelimiter(line, delim) {\n  if (line.slice(0, delim.length) !== delim) {\n    return false;\n  }\n  if (line.charAt(delim.length + 1) === delim.slice(-1)) {\n    return false;\n  }\n  return true;\n}\n\nfunction toObject(input) {\n  if (typeOf(input) !== 'object') {\n    input = { content: input };\n  }\n\n  if (typeof input.content !== 'string' && !isBuffer(input.content)) {\n    throw new TypeError('expected a buffer or string');\n  }\n\n  input.content = input.content.toString();\n  input.sections = [];\n  return input;\n}\n\nfunction getKey(val, delim) {\n  return val ? val.slice(delim.length).trim() : '';\n}\n\nfunction createSection() {\n  return { key: '', data: '', content: '' };\n}\n\nfunction identity(val) {\n  return val;\n}\n\nfunction isBuffer(val) {\n  if (val && val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","'use strict';\n\n\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nmodule.exports.isNothing      = isNothing;\nmodule.exports.isObject       = isObject;\nmodule.exports.toArray        = toArray;\nmodule.exports.repeat         = repeat;\nmodule.exports.isNegativeZero = isNegativeZero;\nmodule.exports.extend         = extend;\n","// YAML error class. http://stackoverflow.com/questions/8458984\n//\n'use strict';\n\nfunction YAMLException(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = (this.reason || '(unknown reason)') + (this.mark ? ' ' + this.mark.toString() : '');\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException.prototype = Object.create(Error.prototype);\nYAMLException.prototype.constructor = YAMLException;\n\n\nYAMLException.prototype.toString = function toString(compact) {\n  var result = this.name + ': ';\n\n  result += this.reason || '(unknown reason)';\n\n  if (!compact && this.mark) {\n    result += ' ' + this.mark.toString();\n  }\n\n  return result;\n};\n\n\nmodule.exports = YAMLException;\n","'use strict';\n\n\nvar common = require('./common');\n\n\nfunction Mark(name, buffer, position, line, column) {\n  this.name     = name;\n  this.buffer   = buffer;\n  this.position = position;\n  this.line     = line;\n  this.column   = column;\n}\n\n\nMark.prototype.getSnippet = function getSnippet(indent, maxLength) {\n  var head, start, tail, end, snippet;\n\n  if (!this.buffer) return null;\n\n  indent = indent || 4;\n  maxLength = maxLength || 75;\n\n  head = '';\n  start = this.position;\n\n  while (start > 0 && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1)) === -1) {\n    start -= 1;\n    if (this.position - start > (maxLength / 2 - 1)) {\n      head = ' ... ';\n      start += 5;\n      break;\n    }\n  }\n\n  tail = '';\n  end = this.position;\n\n  while (end < this.buffer.length && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end)) === -1) {\n    end += 1;\n    if (end - this.position > (maxLength / 2 - 1)) {\n      tail = ' ... ';\n      end -= 5;\n      break;\n    }\n  }\n\n  snippet = this.buffer.slice(start, end);\n\n  return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n         common.repeat(' ', indent + this.position - start + head.length) + '^';\n};\n\n\nMark.prototype.toString = function toString(compact) {\n  var snippet, where = '';\n\n  if (this.name) {\n    where += 'in \"' + this.name + '\" ';\n  }\n\n  where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n\n  if (!compact) {\n    snippet = this.getSnippet();\n\n    if (snippet) {\n      where += ':\\n' + snippet;\n    }\n  }\n\n  return where;\n};\n\n\nmodule.exports = Mark;\n","'use strict';\n\nvar YAMLException = require('./exception');\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.tag          = tag;\n  this.kind         = options['kind']         || null;\n  this.resolve      = options['resolve']      || function () { return true; };\n  this.construct    = options['construct']    || function (data) { return data; };\n  this.instanceOf   = options['instanceOf']   || null;\n  this.predicate    = options['predicate']    || null;\n  this.represent    = options['represent']    || null;\n  this.defaultStyle = options['defaultStyle'] || null;\n  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nmodule.exports = Type;\n","'use strict';\n\n/*eslint-disable max-len*/\n\nvar common        = require('./common');\nvar YAMLException = require('./exception');\nvar Type          = require('./type');\n\n\nfunction compileList(schema, name, result) {\n  var exclude = [];\n\n  schema.include.forEach(function (includedSchema) {\n    result = compileList(includedSchema, name, result);\n  });\n\n  schema[name].forEach(function (currentType) {\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind) {\n        exclude.push(previousIndex);\n      }\n    });\n\n    result.push(currentType);\n  });\n\n  return result.filter(function (type, index) {\n    return exclude.indexOf(index) === -1;\n  });\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {}\n      }, index, length;\n\n  function collectType(type) {\n    result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema(definition) {\n  this.include  = definition.include  || [];\n  this.implicit = definition.implicit || [];\n  this.explicit = definition.explicit || [];\n\n  this.implicit.forEach(function (type) {\n    if (type.loadKind && type.loadKind !== 'scalar') {\n      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n  });\n\n  this.compiledImplicit = compileList(this, 'implicit', []);\n  this.compiledExplicit = compileList(this, 'explicit', []);\n  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);\n}\n\n\nSchema.DEFAULT = null;\n\n\nSchema.create = function createSchema() {\n  var schemas, types;\n\n  switch (arguments.length) {\n    case 1:\n      schemas = Schema.DEFAULT;\n      types = arguments[0];\n      break;\n\n    case 2:\n      schemas = arguments[0];\n      types = arguments[1];\n      break;\n\n    default:\n      throw new YAMLException('Wrong number of arguments for Schema.create function');\n  }\n\n  schemas = common.toArray(schemas);\n  types = common.toArray(types);\n\n  if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n    throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n  }\n\n  if (!types.every(function (type) { return type instanceof Type; })) {\n    throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n  }\n\n  return new Schema({\n    include: schemas,\n    explicit: types\n  });\n};\n\n\nmodule.exports = Schema;\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n","// Standard YAML's Failsafe schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2802346\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  explicit: [\n    require('../type/str'),\n    require('../type/seq'),\n    require('../type/map')\n  ]\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') continue;\n      if (!isOctCode(data.charCodeAt(index))) return false;\n      hasDigits = true;\n    }\n    return hasDigits && ch !== '_';\n  }\n\n  // base 10 (except 0) or base 60\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (ch === ':') break;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  // if !base60 - done;\n  if (ch !== ':') return true;\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value, 16);\n    return sign * parseInt(value, 8);\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0'  + obj.toString(8) : '-0'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // 20:59\n  '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign, base, digits;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n  digits = [];\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n\n  } else if (value.indexOf(':') >= 0) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseFloat(v, 10));\n    });\n\n    value = 0.0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += d * base;\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n","// Standard YAML's JSON schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2803231\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, this schema is not such strict as defined in the YAML specification.\n// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./failsafe')\n  ],\n  implicit: [\n    require('../type/null'),\n    require('../type/bool'),\n    require('../type/int'),\n    require('../type/float')\n  ]\n});\n","// Standard YAML's Core schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2804923\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, Core schema has no distinctions from JSON schema is JS-YAML.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./json')\n  ]\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n","'use strict';\n\n/*eslint-disable no-bitwise*/\n\nvar NodeBuffer;\n\ntry {\n  // A trick for browserified version, to not include `Buffer` shim\n  var _require = require;\n  NodeBuffer = _require('buffer').Buffer;\n} catch (__) {}\n\nvar Type       = require('../type');\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  // Wrap into Buffer for NodeJS and leave Array for browser\n  if (NodeBuffer) {\n    // Support node 6.+ Buffer API when available\n    return NodeBuffer.from ? NodeBuffer.from(result) : new NodeBuffer(result);\n  }\n\n  return result;\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(object) {\n  return NodeBuffer && NodeBuffer.isBuffer(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _toString = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n","// JS-YAML's default schema for `safeLoad` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on standard YAML's Core schema and includes most of\n// extra types described at YAML tag repository. (http://yaml.org/type/)\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./core')\n  ],\n  implicit: [\n    require('../type/timestamp'),\n    require('../type/merge')\n  ],\n  explicit: [\n    require('../type/binary'),\n    require('../type/omap'),\n    require('../type/pairs'),\n    require('../type/set')\n  ]\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptUndefined() {\n  return true;\n}\n\nfunction constructJavascriptUndefined() {\n  /*eslint-disable no-undefined*/\n  return undefined;\n}\n\nfunction representJavascriptUndefined() {\n  return '';\n}\n\nfunction isUndefined(object) {\n  return typeof object === 'undefined';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/undefined', {\n  kind: 'scalar',\n  resolve: resolveJavascriptUndefined,\n  construct: constructJavascriptUndefined,\n  predicate: isUndefined,\n  represent: representJavascriptUndefined\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptRegExp(data) {\n  if (data === null) return false;\n  if (data.length === 0) return false;\n\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // if regexp starts with '/' it can have modifiers and must be properly closed\n  // `/foo/gim` - modifiers tail can be maximum 3 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n\n    if (modifiers.length > 3) return false;\n    // if expression starts with /, is should be properly terminated\n    if (regexp[regexp.length - modifiers.length - 1] !== '/') return false;\n  }\n\n  return true;\n}\n\nfunction constructJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // `/foo/gim` - tail can be maximum 4 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  return new RegExp(regexp, modifiers);\n}\n\nfunction representJavascriptRegExp(object /*, style*/) {\n  var result = '/' + object.source + '/';\n\n  if (object.global) result += 'g';\n  if (object.multiline) result += 'm';\n  if (object.ignoreCase) result += 'i';\n\n  return result;\n}\n\nfunction isRegExp(object) {\n  return Object.prototype.toString.call(object) === '[object RegExp]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/regexp', {\n  kind: 'scalar',\n  resolve: resolveJavascriptRegExp,\n  construct: constructJavascriptRegExp,\n  predicate: isRegExp,\n  represent: representJavascriptRegExp\n});\n","'use strict';\n\nvar esprima;\n\n// Browserified version does not have esprima\n//\n// 1. For node.js just require module as deps\n// 2. For browser try to require mudule via external AMD system.\n//    If not found - try to fallback to window.esprima. If not\n//    found too - then fail to parse.\n//\ntry {\n  // workaround to exclude package from browserify list.\n  var _require = require;\n  esprima = _require('esprima');\n} catch (_) {\n  /*global window */\n  if (typeof window !== 'undefined') esprima = window.esprima;\n}\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptFunction(data) {\n  if (data === null) return false;\n\n  try {\n    var source = '(' + data + ')',\n        ast    = esprima.parse(source, { range: true });\n\n    if (ast.type                    !== 'Program'             ||\n        ast.body.length             !== 1                     ||\n        ast.body[0].type            !== 'ExpressionStatement' ||\n        (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n          ast.body[0].expression.type !== 'FunctionExpression')) {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction constructJavascriptFunction(data) {\n  /*jslint evil:true*/\n\n  var source = '(' + data + ')',\n      ast    = esprima.parse(source, { range: true }),\n      params = [],\n      body;\n\n  if (ast.type                    !== 'Program'             ||\n      ast.body.length             !== 1                     ||\n      ast.body[0].type            !== 'ExpressionStatement' ||\n      (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n        ast.body[0].expression.type !== 'FunctionExpression')) {\n    throw new Error('Failed to resolve function');\n  }\n\n  ast.body[0].expression.params.forEach(function (param) {\n    params.push(param.name);\n  });\n\n  body = ast.body[0].expression.body.range;\n\n  // Esprima's ranges include the first '{' and the last '}' characters on\n  // function expressions. So cut them out.\n  if (ast.body[0].expression.body.type === 'BlockStatement') {\n    /*eslint-disable no-new-func*/\n    return new Function(params, source.slice(body[0] + 1, body[1] - 1));\n  }\n  // ES6 arrow functions can omit the BlockStatement. In that case, just return\n  // the body.\n  /*eslint-disable no-new-func*/\n  return new Function(params, 'return ' + source.slice(body[0], body[1]));\n}\n\nfunction representJavascriptFunction(object /*, style*/) {\n  return object.toString();\n}\n\nfunction isFunction(object) {\n  return Object.prototype.toString.call(object) === '[object Function]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/function', {\n  kind: 'scalar',\n  resolve: resolveJavascriptFunction,\n  construct: constructJavascriptFunction,\n  predicate: isFunction,\n  represent: representJavascriptFunction\n});\n","// JS-YAML's default schema for `load` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on JS-YAML's default safe schema and includes\n// JavaScript-specific types: !!js/undefined, !!js/regexp and !!js/function.\n//\n// Also this schema is used as default base schema at `Schema.create` function.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = Schema.DEFAULT = new Schema({\n  include: [\n    require('./default_safe')\n  ],\n  explicit: [\n    require('../type/js/undefined'),\n    require('../type/js/regexp'),\n    require('../type/js/function')\n  ]\n});\n","'use strict';\n\n/*eslint-disable max-len,no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar Mark                = require('./mark');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\n\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || DEFAULT_FULL_SCHEMA;\n  this.onWarning = options['onWarning'] || null;\n  this.legacy    = options['legacy']    || false;\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  return new YAMLException(\n    message,\n    new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)));\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startPos) {\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty.call(overridableKeys, keyNode) &&\n        _hasOwnProperty.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n    _result[keyNode] = valueNode;\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = {},\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _pos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = {},\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n    _pos = state.position;\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n\n    } else {\n      break; // Reading is done. Go to the epilogue.\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _pos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if (state.lineIndent > nodeIndent && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!state.anchorMap.hasOwnProperty(alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag !== null && state.tag !== '!') {\n    if (state.tag === '?') {\n      for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n        type = state.implicitTypes[typeIndex];\n\n        // Implicit resolving is not allowed for non-scalar types, and '?'\n        // non-specific tag is only assigned to plain scalars. So, it isn't\n        // needed to check for 'kind' conformity.\n\n        if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n          state.result = type.construct(state.result);\n          state.tag = type.tag;\n          if (state.anchor !== null) {\n            state.anchorMap[state.anchor] = state.result;\n          }\n          break;\n        }\n      }\n    } else if (_hasOwnProperty.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n\n      if (state.result !== null && type.kind !== state.kind) {\n        throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n      }\n\n      if (!type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n      } else {\n        state.result = type.construct(state.result);\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = {};\n  state.anchorMap = {};\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State(input, options);\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll(input, iterator, options) {\n  var documents = loadDocuments(input, options), index, length;\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new YAMLException('expected a single document in the stream, but found more');\n}\n\n\nfunction safeLoadAll(input, output, options) {\n  if (typeof output === 'function') {\n    loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  } else {\n    return loadAll(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  }\n}\n\n\nfunction safeLoad(input, options) {\n  return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.loadAll     = loadAll;\nmodule.exports.load        = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad    = safeLoad;\n","'use strict';\n\n/*eslint-disable no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\nfunction State(options) {\n  this.schema        = options['schema'] || DEFAULT_FULL_SCHEMA;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isnt mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== 0xFEFF /* BOM */)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// Simplified test for values allowed after the first character in plain style.\nfunction isPlainSafe(c) {\n  // Uses a subset of nb-char - c-flow-indicator - \":\" - \"#\"\n  // where nb-char ::= c-printable - b-char - c-byte-order-mark.\n  return isPrintable(c) && c !== 0xFEFF\n    // - c-flow-indicator\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // - \":\" - \"#\"\n    && c !== CHAR_COLON\n    && c !== CHAR_SHARP;\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  return isPrintable(c) && c !== 0xFEFF\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // - | ? | : | , | [ | ] | { | }\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | # | & | * | ! | | | > | ' | \"\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | % | @ | `)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType) {\n  var i;\n  var char;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(string.charCodeAt(0))\n          && !isWhitespace(string.charCodeAt(string.length - 1));\n\n  if (singleLineOnly) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    return plain && !testAmbiguousType(string)\n      ? STYLE_PLAIN : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//     No ending newline => unaffected; already using strip \"-\" chomping.\n//     Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return \"''\";\n    }\n    if (!state.noCompatMode &&\n        DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1) {\n      return \"'\" + string + \"'\";\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth  40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth, testAmbiguity)) {\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string, lineWidth) + '\"';\n      default:\n        throw new YAMLException('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char, nextChar;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; i++) {\n    char = string.charCodeAt(i);\n    // Check for surrogate pairs (reference Unicode 3.0 section \"3.7 Surrogates\").\n    if (char >= 0xD800 && char <= 0xDBFF/* high surrogate */) {\n      nextChar = string.charCodeAt(i + 1);\n      if (nextChar >= 0xDC00 && nextChar <= 0xDFFF/* low surrogate */) {\n        // Combine the surrogate pair and store it escaped.\n        result += encodeHex((char - 0xD800) * 0x400 + nextChar - 0xDC00 + 0x10000);\n        // Advance index one extra since we already used that char here.\n        i++; continue;\n      }\n    }\n    escapeSeq = ESCAPE_SEQUENCES[char];\n    result += !escapeSeq && isPrintable(char)\n      ? string[i]\n      : escapeSeq || encodeHex(char);\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level, object[index], false, false)) {\n      if (index !== 0) _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level + 1, object[index], true, true)) {\n      if (!compact || index !== 0) {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = state.condenseFlow ? '\"' : '';\n\n    if (index !== 0) pairBuffer += ', ';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new YAMLException('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || index !== 0) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      state.tag = explicit ? type.tag : '?';\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      var arrayLevel = (state.noArrayIndent && (level > 0)) ? level - 1 : level;\n      if (block && (state.dump.length !== 0)) {\n        writeBlockSequence(state, arrayLevel, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, arrayLevel, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey);\n      }\n    } else {\n      if (state.skipInvalid) return false;\n      throw new YAMLException('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      state.dump = '!<' + state.tag + '> ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  if (writeNode(state, 0, input, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nfunction safeDump(input, options) {\n  return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\nmodule.exports.dump     = dump;\nmodule.exports.safeDump = safeDump;\n","'use strict';\n\n\nvar loader = require('./js-yaml/loader');\nvar dumper = require('./js-yaml/dumper');\n\n\nfunction deprecated(name) {\n  return function () {\n    throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n  };\n}\n\n\nmodule.exports.Type                = require('./js-yaml/type');\nmodule.exports.Schema              = require('./js-yaml/schema');\nmodule.exports.FAILSAFE_SCHEMA     = require('./js-yaml/schema/failsafe');\nmodule.exports.JSON_SCHEMA         = require('./js-yaml/schema/json');\nmodule.exports.CORE_SCHEMA         = require('./js-yaml/schema/core');\nmodule.exports.DEFAULT_SAFE_SCHEMA = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_FULL_SCHEMA = require('./js-yaml/schema/default_full');\nmodule.exports.load                = loader.load;\nmodule.exports.loadAll             = loader.loadAll;\nmodule.exports.safeLoad            = loader.safeLoad;\nmodule.exports.safeLoadAll         = loader.safeLoadAll;\nmodule.exports.dump                = dumper.dump;\nmodule.exports.safeDump            = dumper.safeDump;\nmodule.exports.YAMLException       = require('./js-yaml/exception');\n\n// Deprecated schema names from JS-YAML 2.0.x\nmodule.exports.MINIMAL_SCHEMA = require('./js-yaml/schema/failsafe');\nmodule.exports.SAFE_SCHEMA    = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_SCHEMA = require('./js-yaml/schema/default_full');\n\n// Deprecated functions from JS-YAML 1.x.x\nmodule.exports.scan           = deprecated('scan');\nmodule.exports.parse          = deprecated('parse');\nmodule.exports.compose        = deprecated('compose');\nmodule.exports.addConstructor = deprecated('addConstructor');\n","'use strict';\n\n\nvar yaml = require('./lib/js-yaml.js');\n\n\nmodule.exports = yaml;\n","'use strict';\n\nconst yaml = require('js-yaml');\n\n/**\n * Default engines\n */\n\nconst engines = exports = module.exports;\n\n/**\n * YAML\n */\n\nengines.yaml = {\n  parse: yaml.safeLoad.bind(yaml),\n  stringify: yaml.safeDump.bind(yaml)\n};\n\n/**\n * JSON\n */\n\nengines.json = {\n  parse: JSON.parse.bind(JSON),\n  stringify: function(obj, options) {\n    const opts = Object.assign({replacer: null, space: 2}, options);\n    return JSON.stringify(obj, opts.replacer, opts.space);\n  }\n};\n\n/**\n * JavaScript\n */\n\nengines.javascript = {\n  parse: function parse(str, options, wrap) {\n    /* eslint no-eval: 0 */\n    try {\n      if (wrap !== false) {\n        str = '(function() {\\nreturn ' + str.trim() + ';\\n}());';\n      }\n      return eval(str) || {};\n    } catch (err) {\n      if (wrap !== false && /(unexpected|identifier)/i.test(err.message)) {\n        return parse(str, options, false);\n      }\n      throw new SyntaxError(err);\n    }\n  },\n  stringify: function() {\n    throw new Error('stringifying JavaScript is not supported');\n  }\n};\n","/*!\n * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>\n *\n * Copyright (c) 2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(str) {\n  if (typeof str === 'string' && str.charAt(0) === '\\ufeff') {\n    return str.slice(1);\n  }\n  return str;\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict';\n\nconst stripBom = require('strip-bom-string');\nconst typeOf = require('kind-of');\n\nexports.define = function(obj, key, val) {\n  Reflect.defineProperty(obj, key, {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: val\n  });\n};\n\n/**\n * Returns true if `val` is a buffer\n */\n\nexports.isBuffer = val => typeOf(val) === 'buffer';\n\n/**\n * Returns true if `val` is an object\n */\n\nexports.isObject = val => typeOf(val) === 'object';\n\n/**\n * Cast `input` to a buffer\n */\n\nexports.toBuffer = function(input) {\n  return typeof input === 'string' ? Buffer.from(input) : input;\n};\n\n/**\n * Cast `val` to a string.\n */\n\nexports.toString = function(input) {\n  if (exports.isBuffer(input)) return stripBom(String(input));\n  if (typeof input !== 'string') {\n    throw new TypeError('expected input to be a string or buffer');\n  }\n  return stripBom(input);\n};\n\n/**\n * Cast `val` to an array.\n */\n\nexports.arrayify = function(val) {\n  return val ? (Array.isArray(val) ? val : [val]) : [];\n};\n\n/**\n * Returns true if `str` starts with `substr`.\n */\n\nexports.startsWith = function(str, substr, len) {\n  if (typeof len !== 'number') len = substr.length;\n  return str.slice(0, len) === substr;\n};\n","'use strict';\n\nconst engines = require('./engines');\nconst utils = require('./utils');\n\nmodule.exports = function(options) {\n  const opts = Object.assign({}, options);\n\n  // ensure that delimiters are an array\n  opts.delimiters = utils.arrayify(opts.delims || opts.delimiters || '---');\n  if (opts.delimiters.length === 1) {\n    opts.delimiters.push(opts.delimiters[0]);\n  }\n\n  opts.language = (opts.language || opts.lang || 'yaml').toLowerCase();\n  opts.engines = Object.assign({}, engines, opts.parsers, opts.engines);\n  return opts;\n};\n","'use strict';\n\nmodule.exports = function(name, options) {\n  let engine = options.engines[name] || options.engines[aliase(name)];\n  if (typeof engine === 'undefined') {\n    throw new Error('gray-matter engine \"' + name + '\" is not registered');\n  }\n  if (typeof engine === 'function') {\n    engine = { parse: engine };\n  }\n  return engine;\n};\n\nfunction aliase(name) {\n  switch (name.toLowerCase()) {\n    case 'js':\n    case 'javascript':\n      return 'javascript';\n    case 'coffee':\n    case 'coffeescript':\n    case 'cson':\n      return 'coffee';\n    case 'yaml':\n    case 'yml':\n      return 'yaml';\n    default: {\n      return name;\n    }\n  }\n}\n","'use strict';\n\nconst typeOf = require('kind-of');\nconst getEngine = require('./engine');\nconst defaults = require('./defaults');\n\nmodule.exports = function(file, data, options) {\n  if (data == null && options == null) {\n    switch (typeOf(file)) {\n      case 'object':\n        data = file.data;\n        options = {};\n        break;\n      case 'string':\n        return file;\n      default: {\n        throw new TypeError('expected file to be a string or object');\n      }\n    }\n  }\n\n  const str = file.content;\n  const opts = defaults(options);\n  if (data == null) {\n    if (!opts.data) return file;\n    data = opts.data;\n  }\n\n  const language = file.language || opts.language;\n  const engine = getEngine(language, opts);\n  if (typeof engine.stringify !== 'function') {\n    throw new TypeError('expected \"' + language + '.stringify\" to be a function');\n  }\n\n  data = Object.assign({}, file.data, data);\n  const open = opts.delimiters[0];\n  const close = opts.delimiters[1];\n  const matter = engine.stringify(data, options).trim();\n  let buf = '';\n\n  if (matter !== '{}') {\n    buf = newline(open) + newline(matter) + newline(close);\n  }\n\n  if (typeof file.excerpt === 'string' && file.excerpt !== '') {\n    if (str.indexOf(file.excerpt.trim()) === -1) {\n      buf += newline(file.excerpt) + newline(close);\n    }\n  }\n\n  return buf + newline(str);\n};\n\nfunction newline(str) {\n  return str.slice(-1) !== '\\n' ? str + '\\n' : str;\n}\n","'use strict';\n\nconst defaults = require('./defaults');\n\nmodule.exports = function(file, options) {\n  const opts = defaults(options);\n\n  if (file.data == null) {\n    file.data = {};\n  }\n\n  if (typeof opts.excerpt === 'function') {\n    return opts.excerpt(file, opts);\n  }\n\n  const sep = file.data.excerpt_separator || opts.excerpt_separator;\n  if (sep == null && (opts.excerpt === false || opts.excerpt == null)) {\n    return file;\n  }\n\n  const delimiter = typeof opts.excerpt === 'string'\n    ? opts.excerpt\n    : (sep || opts.delimiters[0]);\n\n  // if enabled, get the excerpt defined after front-matter\n  const idx = file.content.indexOf(delimiter);\n  if (idx !== -1) {\n    file.excerpt = file.content.slice(0, idx);\n  }\n\n  return file;\n};\n","'use strict';\n\nconst typeOf = require('kind-of');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\n/**\n * Normalize the given value to ensure an object is returned\n * with the expected properties.\n */\n\nmodule.exports = function(file) {\n  if (typeOf(file) !== 'object') {\n    file = { content: file };\n  }\n\n  if (typeOf(file.data) !== 'object') {\n    file.data = {};\n  }\n\n  // if file was passed as an object, ensure that\n  // \"file.content\" is set\n  if (file.contents && file.content == null) {\n    file.content = file.contents;\n  }\n\n  // set non-enumerable properties on the file object\n  utils.define(file, 'orig', utils.toBuffer(file.content));\n  utils.define(file, 'language', file.language || '');\n  utils.define(file, 'matter', file.matter || '');\n  utils.define(file, 'stringify', function(data, options) {\n    if (options && options.language) {\n      file.language = options.language;\n    }\n    return stringify(file, data, options);\n  });\n\n  // strip BOM and ensure that \"file.content\" is a string\n  file.content = utils.toString(file.content);\n  file.isEmpty = false;\n  file.excerpt = '';\n  return file;\n};\n","'use strict';\n\nconst getEngine = require('./engine');\nconst defaults = require('./defaults');\n\nmodule.exports = function(language, str, options) {\n  const opts = defaults(options);\n  const engine = getEngine(language, opts);\n  if (typeof engine.parse !== 'function') {\n    throw new TypeError('expected \"' + language + '.parse\" to be a function');\n  }\n  return engine.parse(str, opts);\n};\n","'use strict';\n\nconst fs = require('fs');\nconst sections = require('section-matter');\nconst defaults = require('./lib/defaults');\nconst stringify = require('./lib/stringify');\nconst excerpt = require('./lib/excerpt');\nconst engines = require('./lib/engines');\nconst toFile = require('./lib/to-file');\nconst parse = require('./lib/parse');\nconst utils = require('./lib/utils');\n\n/**\n * Takes a string or object with `content` property, extracts\n * and parses front-matter from the string, then returns an object\n * with `data`, `content` and other [useful properties](#returned-object).\n *\n * ```js\n * const matter = require('gray-matter');\n * console.log(matter('---\\ntitle: Home\\n---\\nOther stuff'));\n * //=> { data: { title: 'Home'}, content: 'Other stuff' }\n * ```\n * @param {Object|String} `input` String, or object with `content` string\n * @param {Object} `options`\n * @return {Object}\n * @api public\n */\n\nfunction matter(input, options) {\n  if (input === '') {\n    return { data: {}, content: input, excerpt: '', orig: input };\n  }\n\n  let file = toFile(input);\n  const cached = matter.cache[file.content];\n\n  if (!options) {\n    if (cached) {\n      file = Object.assign({}, cached);\n      file.orig = cached.orig;\n      return file;\n    }\n\n    // only cache if there are no options passed. if we cache when options\n    // are passed, we would need to also cache options values, which would\n    // negate any performance benefits of caching\n    matter.cache[file.content] = file;\n  }\n\n  return parseMatter(file, options);\n}\n\n/**\n * Parse front matter\n */\n\nfunction parseMatter(file, options) {\n  const opts = defaults(options);\n  const open = opts.delimiters[0];\n  const close = '\\n' + opts.delimiters[1];\n  let str = file.content;\n\n  if (opts.language) {\n    file.language = opts.language;\n  }\n\n  // get the length of the opening delimiter\n  const openLen = open.length;\n  if (!utils.startsWith(str, open, openLen)) {\n    excerpt(file, opts);\n    return file;\n  }\n\n  // if the next character after the opening delimiter is\n  // a character from the delimiter, then it's not a front-\n  // matter delimiter\n  if (str.charAt(openLen) === open.slice(-1)) {\n    return file;\n  }\n\n  // strip the opening delimiter\n  str = str.slice(openLen);\n  const len = str.length;\n\n  // use the language defined after first delimiter, if it exists\n  const language = matter.language(str, opts);\n  if (language.name) {\n    file.language = language.name;\n    str = str.slice(language.raw.length);\n  }\n\n  // get the index of the closing delimiter\n  let closeIndex = str.indexOf(close);\n  if (closeIndex === -1) {\n    closeIndex = len;\n  }\n\n  // get the raw front-matter block\n  file.matter = str.slice(0, closeIndex);\n\n  const block = file.matter.replace(/^\\s*#[^\\n]+/gm, '').trim();\n  if (block === '') {\n    file.isEmpty = true;\n    file.empty = file.content;\n    file.data = {};\n  } else {\n\n    // create file.data by parsing the raw file.matter block\n    file.data = parse(file.language, file.matter, opts);\n  }\n\n  // update file.content\n  if (closeIndex === len) {\n    file.content = '';\n  } else {\n    file.content = str.slice(closeIndex + close.length);\n    if (file.content[0] === '\\r') {\n      file.content = file.content.slice(1);\n    }\n    if (file.content[0] === '\\n') {\n      file.content = file.content.slice(1);\n    }\n  }\n\n  excerpt(file, opts);\n\n  if (opts.sections === true || typeof opts.section === 'function') {\n    sections(file, opts.section);\n  }\n  return file;\n}\n\n/**\n * Expose engines\n */\n\nmatter.engines = engines;\n\n/**\n * Stringify an object to YAML or the specified language, and\n * append it to the given string. By default, only YAML and JSON\n * can be stringified. See the [engines](#engines) section to learn\n * how to stringify other languages.\n *\n * ```js\n * console.log(matter.stringify('foo bar baz', {title: 'Home'}));\n * // results in:\n * // ---\n * // title: Home\n * // ---\n * // foo bar baz\n * ```\n * @param {String|Object} `file` The content string to append to stringified front-matter, or a file object with `file.content` string.\n * @param {Object} `data` Front matter to stringify.\n * @param {Object} `options` [Options](#options) to pass to gray-matter and [js-yaml].\n * @return {String} Returns a string created by wrapping stringified yaml with delimiters, and appending that to the given string.\n * @api public\n */\n\nmatter.stringify = function(file, data, options) {\n  if (typeof file === 'string') file = matter(file, options);\n  return stringify(file, data, options);\n};\n\n/**\n * Synchronously read a file from the file system and parse\n * front matter. Returns the same object as the [main function](#matter).\n *\n * ```js\n * const file = matter.read('./content/blog-post.md');\n * ```\n * @param {String} `filepath` file path of the file to read.\n * @param {Object} `options` [Options](#options) to pass to gray-matter.\n * @return {Object} Returns [an object](#returned-object) with `data` and `content`\n * @api public\n */\n\nmatter.read = function(filepath, options) {\n  const str = fs.readFileSync(filepath, 'utf8');\n  const file = matter(str, options);\n  file.path = filepath;\n  return file;\n};\n\n/**\n * Returns true if the given `string` has front matter.\n * @param  {String} `string`\n * @param  {Object} `options`\n * @return {Boolean} True if front matter exists.\n * @api public\n */\n\nmatter.test = function(str, options) {\n  return utils.startsWith(str, defaults(options).delimiters[0]);\n};\n\n/**\n * Detect the language to use, if one is defined after the\n * first front-matter delimiter.\n * @param  {String} `string`\n * @param  {Object} `options`\n * @return {Object} Object with `raw` (actual language string), and `name`, the language with whitespace trimmed\n */\n\nmatter.language = function(str, options) {\n  const opts = defaults(options);\n  const open = opts.delimiters[0];\n\n  if (matter.test(str)) {\n    str = str.slice(open.length);\n  }\n\n  const language = str.slice(0, str.search(/\\r?\\n/));\n  return {\n    raw: language,\n    name: language ? language.trim() : ''\n  };\n};\n\n/**\n * Expose `matter`\n */\n\nmatter.cache = {};\nmatter.clearCache = () => (matter.cache = {});\nmodule.exports = matter;\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (cap = this.rules.nptable.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (cap = this.rules.table.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      var lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n      var checked = this.token.checked;\n      var task = this.token.task;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n      return this.renderer.listitem(body, task, checked);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var level = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","const h = require('snabbdom/h').default\nconst ql = require('odoql2')\nconst inject = require('injectinto')\nconst route = require('odo-route')\nconst page = require('page')\nconst matter = require('gray-matter')\nconst marked = require('marked')\nconst axios = require('axios')\nconst slugify = (title) => title.replace(/ /g, '+')\nconst unslugify = (title) => title.replace(/\\+/g, ' ')\n\ninject('pod', (hub, exe) => {\n  let files = { }\n  const load = (title) => {\n    // let url = location.href\n    // if (location.hash.length > 0) url = url.slice(0, -location.hash.length)\n    const url = `https://raw.githubusercontent.com/tcoats/catalyst/master/files/${title}.md`\n    return axios.get(url).then((result) => {\n      const file = matter(result.data)\n      if (Object.keys(file.data) == 0) return null\n      file.data.content = file.content\n      if (!files[title]) files[title] = file.data\n      return file.data\n    })\n  }\n  exe.use('files', () => Promise.resolve(files))\n  exe.use('file', (title) => load(title))\n  hub.on('unknown file', (params) => {\n\n  })\n})\n\nroute('/', (p) => {\n  return { page: 'default', title: 'Index' }\n})\nroute('/:title/', (p) => {\n  return { page: 'default', title: p.params.title }\n})\n\ninject('page:default', ql.component({\n  query: (state, params) => {\n    return {\n      files: ql.query('files'),\n      file: ql.query('file', params.title)\n    }\n  },\n  render: (state, params, hub) => {\n    if (!state.file)\n      return inject.one('page:error')(state, {\n        message: `/${params.title}/ not found`\n      })\n\n    const html = marked(state.file.content)\n\n    return h('div.wrapper', [\n      h('header', [\n        h('h1.logo', 'Mind Catalyst')\n      ]),\n      h('article', [\n        h('h1', params.title),\n        h('div.content', {\n          props: { innerHTML: html },\n          style: { 'border-left-color': state.file.color }\n        })\n      ]),\n      h('nav', Object.keys(state.file.connections).map(title => h('div', [\n        h('h2', title),\n        h('ul', state.file.connections[title].map(connection => {\n          if (!state.files[connection]) hub.emit('unknown file', connection)\n          return h('li', {\n            style: {\n              'border-left-color': state.files[connection]\n                ? state.files[connection].color\n                : '#D9D9D9'\n            }\n          },\n          h('a', { attrs: { href: `/${slugify(connection)}/` } }, connection))\n        }))\n      ])))\n    ])\n  }\n}))\n","const h = require('snabbdom/h').default\nconst ql = require('odoql2')\nconst inject = require('injectinto')\nconst route = require('odo-route')\n\ninject('page:error', ql.component({\n  render: (state, params, hub) => {\n    return h('div.wrapper', h('article', [\n      h('h1', 'Error'),\n      h('p', params.message)\n    ]))\n  }\n}))\n","import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel: sel, data: data, children: children,\n          text: text, elm: elm, key: key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","export interface DOMAPI {\n  createElement: (tagName: any) => HTMLElement;\n  createElementNS: (namespaceURI: string, qualifiedName: string) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (parentNode: Node, newNode: Node, referenceNode: Node | null) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node;\n  nextSibling: (node: Node) => Node;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(tagName: any): HTMLElement {\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI: string, qualifiedName: string): Element {\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(parentNode: Node, newNode: Node, referenceNode: Node | null): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n} as DOMAPI;\n\nexport default htmlDomApi;\n","import {vnode, VNode, VNodeData} from './vnode';\nexport type VNodes = Array<VNode>;\nexport type VNodeChildElement = VNode | string | number | undefined | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>\nimport * as is from './is';\n\nfunction addNS(data: any, children: VNodes | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as VNodes, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(sel: string, data: VNodeData, children: VNodeChildren): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","import {VNode, VNodeData} from './vnode';\nimport {h} from './h';\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode;\n  args: Array<any>;\n}\n\nexport interface Thunk extends VNode {\n  data: ThunkData;\n}\n\nexport interface ThunkFn {\n  (sel: string, fn: Function, args: Array<any>): Thunk;\n  (sel: string, key: any, fn: Function, args: Array<any>): Thunk;\n}\n\nfunction copyToThunk(vnode: VNode, thunk: VNode): void {\n  thunk.elm = vnode.elm;\n  (vnode.data as VNodeData).fn = (thunk.data as VNodeData).fn;\n  (vnode.data as VNodeData).args = (thunk.data as VNodeData).args;\n  thunk.data = vnode.data;\n  thunk.children = vnode.children;\n  thunk.text = vnode.text;\n  thunk.elm = vnode.elm;\n}\n\nfunction init(thunk: VNode): void {\n  const cur = thunk.data as VNodeData;\n  const vnode = (cur.fn as any).apply(undefined, cur.args);\n  copyToThunk(vnode, thunk);\n}\n\nfunction prepatch(oldVnode: VNode, thunk: VNode): void {\n  let i: number, old = oldVnode.data as VNodeData, cur = thunk.data as VNodeData;\n  const oldArgs = old.args, args = cur.args;\n  if (old.fn !== cur.fn || (oldArgs as any).length !== (args as any).length) {\n    copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n    return;\n  }\n  for (i = 0; i < (args as any).length; ++i) {\n    if ((oldArgs as any)[i] !== (args as any)[i]) {\n      copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n      return;\n    }\n  }\n  copyToThunk(oldVnode, thunk);\n}\n\nexport const thunk = function thunk(sel: string, key?: any, fn?: any, args?: any): VNode {\n  if (args === undefined) {\n    args = fn;\n    fn = key;\n    key = undefined;\n  }\n  return h(sel, {\n    key: key,\n    hook: {init: init, prepatch: prepatch},\n    fn: fn,\n    args: args\n  });\n} as ThunkFn;\n\nexport default thunk;","/* global module, document, Node */\nimport {Module} from './modules/module';\nimport {Hooks} from './hooks';\nimport vnode, {VNode, VNodeData, Key} from './vnode';\nimport * as is from './is';\nimport htmlDomApi, {DOMAPI} from './htmldomapi';\n\nfunction isUndef(s: any): boolean { return s === undefined; }\nfunction isDef(s: any): boolean { return s !== undefined; }\n\ntype VNodeQueue = Array<VNode>;\n\nconst emptyNode = vnode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = {[key: string]: number};\n\ntype ArraysOf<T> = {\n  [K in keyof T]: (T[K])[];\n}\n\ntype ModuleHooks = ArraysOf<Module>;\n\nfunction createKeyToOldIdx(children: Array<VNode>, beginIdx: number, endIdx: number): KeyToIndexMap {\n  let i: number, map: KeyToIndexMap = {}, key: Key | undefined, ch;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    ch = children[i];\n    if (ch != null) {\n      key = ch.key;\n      if (key !== undefined) map[key] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: (keyof Module)[] = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nexport {h} from './h';\nexport {thunk} from './thunk';\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number, j: number, cbs = ({} as ModuleHooks);\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as Array<any>).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? '#' + elm.id : '';\n    const c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm);\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    let children = vnode.children, sel = vnode.sel;\n    if (sel === '!') {\n      if (isUndef(vnode.text)) {\n        vnode.text = '';\n      }\n      vnode.elm = api.createComment(vnode.text as string);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf('#');\n      const dotIdx = sel.indexOf('.', hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n      const elm = vnode.elm = isDef(data) && isDef(i = (data as VNodeData).ns) ? api.createElementNS(i, tag)\n                                                                               : api.createElement(tag);\n      if (hash < dot) elm.setAttribute('id', sel.slice(hash + 1, dot));\n      if (dotIdx > 0) elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      i = (vnode.data as VNodeData).hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text as string);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm: Node,\n                     before: Node | null,\n                     vnodes: Array<VNode>,\n                     startIdx: number,\n                     endIdx: number,\n                     insertedVnodeQueue: VNodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    let i: any, j: number, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          i = vnode.children[j];\n          if (i != null && typeof i !== \"string\") {\n            invokeDestroyHook(i);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm: Node,\n                        vnodes: Array<VNode>,\n                        startIdx: number,\n                        endIdx: number): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let i: any, listeners: number, rm: () => void, ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm as Node, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm as Node);\n        }\n      }\n    }\n  }\n\n  function updateChildren(parentElm: Node,\n                          oldCh: Array<VNode>,\n                          newCh: Array<VNode>,\n                          insertedVnodeQueue: VNodeQueue) {\n    let oldStartIdx = 0, newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: any;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm as Node, api.nextSibling(oldEndVnode.elm as Node));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm as Node, oldStartVnode.elm as Node);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n          }\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n      if (oldStartIdx > oldEndIdx) {\n        before = newCh[newEndIdx+1] == null ? null : newCh[newEndIdx+1].elm;\n        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n      } else {\n        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n      }\n    }\n  }\n\n  function patchVnode(oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue) {\n    let i: any, hook: any;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    const elm = vnode.elm = (oldVnode.elm as Node);\n    let oldCh = oldVnode.children;\n    let ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh as Array<VNode>, ch as Array<VNode>, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch as Array<VNode>, 0, (ch as Array<VNode>).length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      }\n      api.setTextContent(elm, vnode.text as string);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm as Node;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm as Node, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      (((insertedVnodeQueue[i].data as VNodeData).hook as Hooks).insert as any)(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Classes = Record<string, boolean>\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm: Element = vnode.elm as Element,\n      oldClass = (oldVnode.data as VNodeData).class,\n      klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nexport const classModule = {create: updateClass, update: updateClass} as Module;\nexport default classModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Props = Record<string, any>;\n\nfunction updateProps(oldVnode: VNode, vnode: VNode): void {\n  var key: string, cur: any, old: any, elm = vnode.elm,\n      oldProps = (oldVnode.data as VNodeData).props,\n      props = (vnode.data as VNodeData).props;\n\n  if (!oldProps && !props) return;\n  if (oldProps === props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete (elm as any)[key];\n    }\n  }\n  for (key in props) {\n    cur = props[key];\n    old = oldProps[key];\n    if (old !== cur && (key !== 'value' || (elm as any)[key] !== cur)) {\n      (elm as any)[key] = cur;\n    }\n  }\n}\n\nexport const propsModule = {create: updateProps, update: updateProps} as Module;\nexport default propsModule;","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\n// because those in TypeScript are too restrictive: https://github.com/Microsoft/TSJS-lib-generator/pull/237\ndeclare global {\n  interface Element {\n    setAttribute(name: string, value: string | number | boolean): void;\n    setAttributeNS(namespaceURI: string, qualifiedName: string, value: string | number | boolean): void;\n  }\n}\n\nexport type Attrs = Record<string, string | number | boolean>\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\n\nfunction updateAttrs(oldVnode: VNode, vnode: VNode): void {\n  var key: string, elm: Element = vnode.elm as Element,\n      oldAttrs = (oldVnode.data as VNodeData).attrs,\n      attrs = (vnode.data as VNodeData).attrs;\n\n  if (!oldAttrs && !attrs) return;\n  if (oldAttrs === attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    const cur = attrs[key];\n    const old = oldAttrs[key];\n    if (old !== cur) {\n      if (cur === true) {\n        elm.setAttribute(key, \"\");\n      } else if (cur === false) {\n        elm.removeAttribute(key);\n      } else {\n        if (key.charCodeAt(0) !== xChar) {\n          elm.setAttribute(key, cur);\n        } else if (key.charCodeAt(3) === colonChar) {\n          // Assume xml namespace\n          elm.setAttributeNS(xmlNS, key, cur);\n        } else if (key.charCodeAt(5) === colonChar) {\n          // Assume xlink namespace\n          elm.setAttributeNS(xlinkNS, key, cur);\n        } else {\n          elm.setAttribute(key, cur);\n        }\n      }\n    }\n  }\n  // remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nexport const attributesModule = {create: updateAttrs, update: updateAttrs} as Module;\nexport default attributesModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\nvar raf = (typeof window !== 'undefined' && (window.requestAnimationFrame).bind(window)) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\nvar reflowForced = false;\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm = vnode.elm,\n      oldStyle = (oldVnode.data as VNodeData).style,\n      style = (vnode.data as VNodeData).style;\n\n  if (!oldStyle && !style) return;\n  if (oldStyle === style) return;\n  oldStyle = oldStyle || {} as VNodeStyle;\n  style = style || {} as VNodeStyle;\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.removeProperty(name);\n      } else {\n        (elm as any).style[name] = '';\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed' && style.delayed) {\n      for (let name2 in style.delayed) {\n        cur = style.delayed[name2];\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.setProperty(name, cur);\n      } else {\n        (elm as any).style[name] = cur;\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode): void {\n  var style: any, name: string, elm = vnode.elm, s = (vnode.data as VNodeData).style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    (elm as any).style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void): void {\n  var s = (vnode.data as VNodeData).style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  if(!reflowForced) {\n    getComputedStyle(document.body).transform;\n    reflowForced = true;\n  }\n  var name: string, elm = vnode.elm, i = 0, compStyle: CSSStyleDeclaration,\n      style = s.remove, amount = 0, applied: Array<string> = [];\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm as Element);\n  var props = (compStyle as any)['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  (elm as Element).addEventListener('transitionend', function (ev: TransitionEvent) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nfunction forceReflow() {\n  reflowForced = false;\n}\n\nexport const styleModule = {\n  pre: forceReflow,\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n} as Module;\nexport default styleModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type On = {\n  [N in keyof HTMLElementEventMap]?: (ev: HTMLElementEventMap[N]) => void\n} & {\n  [event: string]: EventListener\n};\n\nfunction invokeHandler(handler: any, vnode?: VNode, event?: Event): void {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call handler with arguments\n    if (typeof handler[0] === \"function\") {\n      // special case for single argument for performance\n      if (handler.length === 2) {\n        handler[0].call(vnode, handler[1], event, vnode);\n      } else {\n        var args = handler.slice(1);\n        args.push(event);\n        args.push(vnode);\n        handler[0].apply(vnode, args);\n      }\n    } else {\n      // call multiple handlers\n      for (var i = 0; i < handler.length; i++) {\n        invokeHandler(handler[i], vnode, event);\n      }\n    }\n  }\n}\n\nfunction handleEvent(event: Event, vnode: VNode) {\n  var name = event.type,\n      on = (vnode.data as VNodeData).on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event: Event) {\n    handleEvent(event, (handler as any).vnode);\n  }\n}\n\nfunction updateEventListeners(oldVnode: VNode, vnode?: VNode): void {\n  var oldOn = (oldVnode.data as VNodeData).on,\n      oldListener = (oldVnode as any).listener,\n      oldElm: Element = oldVnode.elm as Element,\n      on = vnode && (vnode.data as VNodeData).on,\n      elm: Element = (vnode && vnode.elm) as Element,\n      name: string;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    var listener = (vnode as any).listener = (oldVnode as any).listener || createListener();\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nexport const eventListenersModule = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners\n} as Module;\nexport default eventListenersModule;\n","module.exports = (initial) => {\n  const listeners = {}\n  const unhandled = []\n  if (initial) for (let e of Object.keys(initial)) listeners[e] = [initial[e]]\n  const emit = (e, ...args) => {\n    if (listeners[e] == null)\n      return Promise.all(unhandled.map((fn) => fn(e, ...args)))\n    return Promise.all(listeners[e].map((fn) => fn(...args)))\n  }\n\n  return {\n    on: (e, fn) => {\n      if (!listeners[e]) listeners[e] = []\n      listeners[e].push(fn)\n    },\n    off: (e, fn) => {\n      if (!listeners[e]) return\n      const index = listeners[e].indexOf(fn)\n      if (index !== -1) listeners[e].splice(index, 1)\n    },\n    emit: emit,\n    unhandled: (fn) => unhandled.push(fn),\n    unhandledOff: (fn) => {\n      const index = unhandled.indexOf(fn)\n      if (index !== -1) unhandled.splice(index, 1)\n    },\n    child: (initial) => {\n      const res = module.exports(initial)\n      res.unhandled((e, ...args) => emit(e, ...args))\n      return res\n    },\n    create: (initial) => module.exports(initial)\n  }\n}\n","const equal = require('fast-deep-equal')\n\nmodule.exports = () => {\n  const providers = {}\n  const listeners = { update: [], error: [] }\n  let missingprovider = null\n\n  let state = {}\n  let cache = {}\n\n  let plan = {\n    tasks: [],\n    atomic: {},\n\n    ready: {},\n    running: {},\n    errors: {},\n    complete: {}\n  }\n\n  const emit = (event, ...args) => {\n    for (let listener of listeners[event]) listener(...args)\n  }\n\n  const querycomplete = (key, result) => {\n    const query = plan.running[key]\n    if (query.options.cache || typeof query.options.cache == 'undefined')\n      cache[key] = { query: query, value: result }\n    delete plan.running[key]\n    delete plan.atomic[key]\n    plan.complete[key] = result\n    state[key] = result\n  }\n\n  const queryerror = (key, error) => {\n    delete plan.running[key]\n    delete plan.atomic[key]\n    plan.errors[key] = error\n  }\n\n  const executequery = (key, query) => {\n    let aborted = false\n    plan.running[key] = query\n    providers[query.name](query.params)\n      .then((result) => {\n        if (aborted) return\n        querycomplete(key, result)\n        evaluate()\n      })\n      .catch((error) => {\n        if (aborted) return\n        queryerror(key, error)\n        evaluate()\n      })\n    return { abort: () => aborted = true }\n  }\n\n  const executemissing = (queries) => {\n    let aborted = false\n    missingprovider(queries)\n      .then((results) => {\n        if (aborted) return\n        for (let key of Object.keys(results)) querycomplete(key, results[key])\n        evaluate()\n      })\n      .catch((error) => {\n        if (aborted) return\n        for (let key of Object.keys(queries)) queryerror(key, error)\n        evaluate()\n      })\n    return { abort: () => aborted = true }\n  }\n\n  const evaluate = () => {\n    // check cache\n    for (let key of Object.keys(plan.ready)) {\n      const query = plan.ready[key]\n      if (!cache[key]) continue\n      const entry = cache[key]\n      if (!equal(entry.query, query)) {\n        delete cache[key]\n        continue\n      }\n      delete plan.ready[key]\n      delete plan.atomic[key]\n      plan.complete[key] = entry.value\n      state[key] = entry.value\n    }\n\n    const errorscount = Object.keys(plan.errors).length\n    const readycount = Object.keys(plan.ready).length\n    const runningcount = Object.keys(plan.running).length\n    const atomiccount = Object.keys(plan.atomic).length\n\n    // we are finished\n    if (readycount == 0 && runningcount == 0) {\n      if (errorscount > 0) emit('error', plan.errors)\n      emit('update', state)\n      return\n    }\n\n    // we are atomic\n    if (atomiccount == 0) emit('update', state)\n\n    const missing = {}\n\n    for (let key of Object.keys(plan.ready)) {\n      const query = plan.ready[key]\n      let isready = true\n      if (query.options.require)\n        for (let dep of query.options.require)\n          if (!plan.complete[dep]) isready = false\n      if (!isready) continue\n      delete plan.ready[key]\n      if (providers[query.name]) {\n        plan.running[key] = query\n        plan.tasks.push(executequery(key, query))\n      }\n      else if (missingprovider) {\n        missing[key] = query\n        plan.running[key] = query\n      }\n      else\n        plan.errors[key] = `${query.name} not available in OdoQL`\n    }\n\n    if (Object.keys(missing).length > 0) executemissing(missing)\n  }\n\n  const run = (queries) => {\n    if (Object.keys(plan.ready).length != 0 ||\n      Object.keys(plan.running).length != 0)\n      for (let task of plan.tasks) task.abort()\n    plan = {\n      tasks: [],\n      atomic: {},\n      errors: {},\n\n      complete: {},\n      ready: {},\n      running: {}\n    }\n    for (let key of Object.keys(state)) if (!queries[key]) delete state[key]\n    for (let key of Object.keys(queries)) {\n      state[key] = null\n      const query = queries[key]\n      if (query.options.atomic || typeof query.options.atomic == 'undefined')\n        plan.atomic[key] = query\n      plan.ready[key] = query\n    }\n    evaluate()\n  }\n\n  return {\n    use: (name, fn) => {\n      if (providers[name]) throw new Error(`${name} already in use by OdoQL`)\n      providers[name] = fn\n    },\n    on: (event, fn) => listeners[event].push(fn),\n    off: (event, fn) => {\n      const index = listeners[event].indexOf(fn)\n      if (index > -1) listeners[event].splice(index, 1)\n    },\n    missing: (provider) => missingprovider = provider,\n    run: run,\n    clear: () => cache = {},\n    clearQuery: (name) => {\n      for (let key of Object.keys(cache))\n        if (cache[key].query.name == name) delete cache[key]\n    },\n    clearKey: (key) => delete cache[key],\n    now: (queries) => {\n      const missing = {}\n      const ready = {}\n\n      for (let key of Object.keys(queries)) {\n        const query = queries[key]\n        query.options.atomic = true\n        if (!providers[query.name]) missing[key] = query\n        else ready[key] = query\n      }\n\n      const results = {}\n\n      const missingkeys = Object.keys(missing)\n      return Promise.all([\n        ...Object.keys(ready).map((key) => {\n          const query = ready[key]\n          return providers[query.name](query.params).then((value) => {\n            results[key] = value\n          })\n        }),\n        (missingkeys.length > 0\n          ? missingprovider(queries).then((r) => Object.assign(results, r))\n          : Promise.resolve())\n      ])\n      .then(() => results)\n    }\n  }\n}\n","import classes from './index.styl'\n\n// extension points\nrequire('./default')\nrequire('./error')\n\n// snabbdom\nconst patch = require('snabbdom').init([\n  require('snabbdom/modules/class').default,\n  require('snabbdom/modules/props').default,\n  require('snabbdom/modules/attributes').default,\n  require('snabbdom/modules/style').default,\n  require('snabbdom/modules/eventlisteners').default,\n])\nlet current = document.querySelector('#root')\nconst update = (next) => {\n  patch(current, next)\n  current = next\n}\n\n// odo\nconst Hub = require('odo-hub')\nlet state = {}\nlet params = {}\nconst hub = Hub()\n\n// relay\nconst inject = require('injectinto')\nconst exe = require('odoql2/exe')()\nexe.on('update', (results) => {\n  state = results\n  update(inject.one(`page:${params.page}`)(state, params, hub))\n})\nhub.on('update', p => {\n  Object.assign(params, p)\n  exe.run(inject.one(`page:${params.page}`).query(state, params) || {})\n})\nhub.on('refresh all', (p) => {\n  exe.clear()\n  hub.emit('update', p)\n})\n\n// url handling\nconst page = require('page')\nconst route = require('odo-route')\npage('*', (e, next) => {\n  params = {}\n  hub.emit('update', route.exec(e.canonicalPath, () => {\n    hub.emit('update', {\n      page: 'error',\n      message: `${e.canonicalPath} not found`\n    })\n  }))\n  window.scrollTo(0, 0)\n})\n\n// execute pods\nfor (let pod of inject.many('pod')) pod(hub, exe)\n\n// start relay\npage({ hashbang: true })","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}